(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[0],{13:function(e,t,a){e.exports={Layout:"Layout_Layout__3SBgk",Header:"Layout_Header__1E0Ih",Header_menu:"Layout_Header_menu__1IPYV",Navigation_link:"Layout_Navigation_link__3lQU_",Navigation_link_active:"Layout_Navigation_link_active__31sGQ"}},14:function(e,t,a){e.exports={MovieDetailsPage:"MovieDetailsPage_MovieDetailsPage__1_97L",MovieDetailsPage_btn:"MovieDetailsPage_MovieDetailsPage_btn__3stVy",MovieDetailsPage_img:"MovieDetailsPage_MovieDetailsPage_img__2Z07K",MovieDetailsPage_title:"MovieDetailsPage_MovieDetailsPage_title__6L-5q",MovieDetailsPage_genres:"MovieDetailsPage_MovieDetailsPage_genres__3FK8G"}},16:function(e,t,a){e.exports={MoviesPage:"MoviesPage_MoviesPage__2MLDw",SearchForm:"MoviesPage_SearchForm__9h_Ye",SearchForm_button:"MoviesPage_SearchForm_button__2irYr",SearchForm_button_label:"MoviesPage_SearchForm_button_label__24zAi",SearchForm_input:"MoviesPage_SearchForm_input__3tGl3"}},17:function(e,t,a){e.exports={Cast_list:"Cast_Cast_list__3UG1H",Cast_item:"Cast_Cast_item__1_pF3",Cast_img:"Cast_Cast_img__XAgs4"}},26:function(e,t,a){e.exports={MoviesList:"MoviesList_MoviesList__1o2vk"}},34:function(e,t,a){},59:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a(1),c=a(24),s=a.n(c),o=a(12),r=(a(34),"/"),l="/movies",u="/movies/:movieId",h="/movies/:movieId/cast",j="/movies/:movieId/reviews",v=a(13),m=a.n(v),d=function(e){var t=e.children;return Object(n.jsxs)("div",{className:m.a.Layout,children:[Object(n.jsx)("header",{className:m.a.Header,children:Object(n.jsxs)("ul",{className:m.a.Header_menu,children:[Object(n.jsx)("li",{children:Object(n.jsx)(o.c,{to:r,exact:!0,className:m.a.Navigation_link,activeClassName:m.a.Navigation_link_active,children:"Home"})}),Object(n.jsx)("li",{children:Object(n.jsx)(o.c,{to:l,className:m.a.Navigation_link,activeClassName:m.a.Navigation_link_active,children:"Movies"})})]})}),t]})},b=a(3),_=a(7),p=a(8),g=a(10),O=a(9),f="https://api.themoviedb.org/3",x="ad0b88ab28871e2096a17eb113d09f1a",y=function(){return fetch("".concat(f,"/trending/movie/day?api_key=").concat(x)).then((function(e){return e.json().then((function(e){return e.results}))}))},M=function(e){return fetch("".concat(f,"/search/movie?api_key=").concat(x,"&query=").concat(e)).then((function(e){return e.json()})).then((function(e){return e.results}))},k=function(e){return fetch("".concat(f,"/movie/").concat(e,"?api_key=").concat(x)).then((function(e){return e.json()}))},S=function(e){return fetch("".concat(f,"/movie/").concat(e,"/credits?api_key=").concat(x)).then((function(e){return e.json()}))},N=function(e){return fetch("".concat(f,"/movie/").concat(e,"/reviews?api_key=").concat(x)).then((function(e){return e.json()}))},P=a(26),D=a.n(P),C=function(e){Object(g.a)(a,e);var t=Object(O.a)(a);function a(){return Object(_.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this;return Object(n.jsx)("ul",{className:D.a.MoviesList,children:this.props.movies.map((function(t){return Object(n.jsx)("li",{children:Object(n.jsx)(o.b,{to:{pathname:"/movies/".concat(t.id),state:{from:e.props.location}},children:t.original_title})},t.id)}))})}}]),a}(i.Component),w=a(27),F=a.n(w),L=function(){return Object(n.jsx)(F.a,{type:"Circles",color:"#00BFFF",height:200,width:200,timeout:3e3})},A=function(e){Object(g.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(_.a)(this,a);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={movies:[],loading:!1},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),y().then((function(t){return e.setState({movies:t})})).finally((function(){return e.setState({loading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.movies,a=e.loading;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h1",{children:"Trending today!"}),a&&Object(n.jsx)(L,{}),t.length>0&&Object(n.jsx)(C,{movies:t})]})}}]),a}(i.Component),I=a(16),G=a.n(I),H=function(e){Object(g.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(_.a)(this,a);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={value:"",movies:[],loading:!1},e.fetchMovies=function(t){e.setState({loading:!0}),M(t).then((function(t){return e.setState({movies:t})})).finally((function(){return e.setState({loading:!1})}))},e.handleChange=function(t){e.setState({value:t.target.value})},e.handleSubmit=function(t){t.preventDefault(),e.fetchMovies(e.state.value),e.setState({value:""})},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.state.value&&this.fetchMovies(this.state.value)}},{key:"render",value:function(){var e=this.state,t=e.value,a=e.movies,i=e.loading;return Object(n.jsxs)("div",{className:G.a.MoviesPage,children:[Object(n.jsxs)("form",{onSubmit:this.handleSubmit,className:G.a.SearchForm,children:[Object(n.jsx)("input",{type:"text",value:t,onChange:this.handleChange,className:G.a.SearchForm_input}),Object(n.jsx)("button",{type:"button",className:G.a.SearchForm_button,children:"Search"})]}),i&&Object(n.jsx)(L,{}),a.length>0&&Object(n.jsx)(C,{movies:a})]})}}]),a}(i.Component),B=a(22),U=a(28),Y=a.n(U),q=a(17),z=a.n(q),E=function(e){Object(g.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(_.a)(this,a);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={casts:[],loading:!1},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),S(this.props.match.params.movieId).then((function(t){return e.setState({casts:t.cast})})).finally((function(){return e.setState({loading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.casts,a=e.loading;return Object(n.jsxs)(n.Fragment,{children:[a&&Object(n.jsx)(L,{}),Object(n.jsx)("div",{children:Object(n.jsx)("ul",{className:z.a.Cast_list,children:t&&t.map((function(e){return Object(n.jsxs)("li",{className:z.a.Cast_item,children:[e.profile_path?Object(n.jsx)("img",{src:"".concat("https://image.tmdb.org/t/p/w500").concat(e.profile_path),alt:e.name,className:z.a.Cast_img}):Object(n.jsx)("img",{src:"https://c1.klipartz.com/pngpicture/275/115/sticker-png-man-silhouette-portrait-drawing-document-standing-male-human-thumbnail.png",alt:e.name,className:z.a.Cast_img}),Object(n.jsx)("p",{children:e.name}),Object(n.jsxs)("p",{children:["Character: ",e.character]})]},e.cast_id)}))})})]})}}]),a}(i.Component),J=function(e){Object(g.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(_.a)(this,a);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={reviews:[],loading:!1},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),N(this.props.match.params.movieId).then((function(t){return e.setState({reviews:t.results})})).finally((function(){return e.setState({loading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.reviews,a=e.loading;return Object(n.jsxs)(n.Fragment,{children:[a&&Object(n.jsx)(L,{}),Object(n.jsx)("ul",{children:t.length>0?t.map((function(e){return Object(n.jsxs)("li",{children:[Object(n.jsxs)("p",{children:["Author: ",e.author]}),Object(n.jsx)("p",{children:e.content})]},e.id)})):Object(n.jsx)("p",{children:"We don`t have any reviews for this movie"})})]})}}]),a}(i.Component),K=a(14),Q=a.n(K),V=function(e){Object(g.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(_.a)(this,a);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={movie:[],loading:!1},e.handleGoBack=function(){var t=e.props.location.state;if(t&&t.from)return e.props.history.push(t.from);e.props.history.push("/")},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),k(this.props.match.params.movieId).then((function(t){return e.setState({movie:t})})).finally((function(){return e.setState({loading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.movie,a=e.loading,i=t.poster_path,c=t.original_title,s=t.release_date,r=t.overview,l=t.genres,u=t.popularity,v=this.props.match.url;return Object(n.jsxs)("div",{children:[a&&Object(n.jsx)(L,{}),t&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("button",{type:"button",onClick:this.handleGoBack,className:Q.a.MovieDetailsPage_btn,children:"Go back"}),Object(n.jsxs)("div",{className:Q.a.MovieDetailsPage,children:[Object(n.jsx)("img",{src:"".concat("https://image.tmdb.org/t/p/w500/").concat(i),alt:c,className:Q.a.MovieDetailsPage_img}),Object(n.jsxs)("div",{children:[Object(n.jsx)("p",{className:Q.a.MovieDetailsPage_title,children:"".concat(c," (").concat(s,")")}),Object(n.jsx)("span",{children:"User Score: ".concat(u,"%")}),Object(n.jsx)("p",{className:Q.a.MovieDetailsPage_title,children:"Overview"}),Object(n.jsx)("span",{children:r}),Object(n.jsx)("p",{className:Q.a.MovieDetailsPage_title,children:"Genres"}),l&&Object(n.jsxs)("ul",{className:Q.a.MovieDetailsPage_genres,children:[l.map((function(e){return Object(n.jsx)("li",{children:e.name},Y()())}))," "]})]})]}),Object(n.jsx)("hr",{}),Object(n.jsxs)("div",{children:[Object(n.jsx)("p",{children:"Additional information"}),Object(n.jsxs)("ul",{children:[Object(n.jsx)("li",{children:Object(n.jsx)(o.b,{to:"".concat(v,"/cast"),children:"Cast"})}),Object(n.jsx)("li",{children:Object(n.jsx)(o.b,{to:"".concat(v,"/reviews"),children:"Reviews"})})]}),Object(n.jsx)("hr",{})]})]}),Object(n.jsxs)(b.c,{children:[Object(n.jsx)(b.a,{path:h,render:function(e){return Object(n.jsx)(E,Object(B.a)({},e))}}),Object(n.jsx)(b.a,{path:j,render:function(e){return Object(n.jsx)(J,Object(B.a)({},e))}})]})]})}}]),a}(i.Component),R=function(){return Object(n.jsx)(d,{children:Object(n.jsxs)(b.c,{children:[Object(n.jsx)(b.a,{path:r,exact:!0,component:A}),Object(n.jsx)(b.a,{path:l,exact:!0,component:H}),Object(n.jsx)(b.a,{path:u,component:V}),Object(n.jsx)(b.a,{path:h,component:E}),Object(n.jsx)(b.a,{path:j,component:J})]})})};s.a.render(Object(n.jsx)(o.a,{children:Object(n.jsx)(R,{})}),document.getElementById("root"))}},[[59,1,2]]]);
//# sourceMappingURL=main.32ab0c53.chunk.js.map